{% extends 'blog/base.html' %}
{% block content %}
<div class="container-fluid">
<div class="row">
 {% for each in page_obj %}

 {% if each.position %}
 <div class="col-12 col-sm-4" style="position:relative; height: 410px;border: 1px solid green;">
 <h4 style="margin-bottom:3%; margin-top: 2%;">{{ each.position }}</h4>
 <p style="margin-bottom:5%">{{ each.description|truncatechars:230  }}</p>
 <table width="100%" height="25%">
 <tr>
 <td>Компания: </td> <td>{{ each.company }}<td>
 </tr>
 <tr>
 <td>Локация:</td> <td>{{ each.town }}</td>
 </tr>
 <tr>
 <td>Заработная плата:</td> <td>{{ each.salary|default:"не указана" }}</td>
 </tr>
 <tr>
 <td>Дата обновления:</td><td>{{ each.published_date|date:"d m Y" }}</td>
 </tr>
 </table>
 <a href="{{ each.link }}"class="btn btn-outline-success"
  style="position:absolute; bottom:5%; left:33.5%; width:200px; border:2px solid green; font-weight: 600; font-size:115%;">Подробнее</a>
 </div>

  {% else %}
     <div class="col-12 col-sm-4" style="position:relative; height: 410px;border: 1px solid green;">
      <h4 style="margin-bottom:3%; margin-top: 2%;">{{ each.title }}</h4>
      <p style="margin-bottom:5%">{{ each.snippet|striptags|cut:"&nbsp;..."|cut:"&nbsp;"|truncatechars:230  }}</p>
      <table width="100%" height="25%">
      <tr>
      <td>Компания: </td> <td>{{ each.company }}<td>
      </tr>
      <tr>
      <td>Локация:</td> <td>{{ each.location }}</td>
      </tr>
      <tr>
      <td>Заработная плата:</td> <td>{{ each.salary|default:"не указана" }}</td>
      </tr>
      <tr>
      <td>Дата обновления:</td><td>{{ each.updated|date:"d m Y" }}</td>
      </tr>
      </table>
      <a href="{{ each.link }}"class="btn btn-outline-success"
       style="position:absolute; bottom:5%; left:33.5%; width:200px; border:2px solid green; font-weight: 600; font-size:115%;">Подробнее</a>
      </div>
    {% endif %}
 {% endfor %}
</div>
</div>
{% endblock %}
