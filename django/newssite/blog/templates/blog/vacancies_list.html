{% extends 'blog/base.html' %}
{% block content %}

<div class="container-fluid">
<div class="row">
 {% for each in page_obj %}
 {% if each.position %}
 <div class="col-12 col-md-4" style="position:relative; height: 25.2em; border: 1px solid green;">
 <h5 style="margin-bottom:3%; margin-top: 5%;font-size: 140%;">{{ each.position|truncatechars:40}}</h5>
 <p style="height: 6em; overflow: hidden; ">{{ each.description|truncatechars:240  }}</p>
 <table >
 <tr>
 <td>Компания: </td> <td>{{ each.company|truncatechars:17 }}<td>
 </tr>
 <tr>
 <td>Локация:</td> <td>{{ each.town|truncatechars:17 }}</td>
 </tr>
 <tr>
 <td>Заработная плата:</td> <td>{{ each.salary|default:"не указана" }}</td
 </tr>
 <tr>
 <td>Дата обновления:</td><td>{{ each.published_date|date:"d m Y" }}</td>
 </tr>
 </table>
 <div class="mx-auto" style="width: 200px">
 <a href="{% url 'blog:vacancy_detail' each.id %}"class="btn btn-outline-success"
  >Подробнее</a></div>
 </div>

  {% else %}
     <div class="col-12 col-md-4" style="position:relative; height: 25.2em; border: 1px solid green;">
      <h5 style="margin-bottom:5%; margin-top: 3%;font-size: 140%;">{{ each.title|truncatechars:40}}</h5>
      <p style="height: 6em; overflow: hidden; text-overflow: ellipsis; ">{{ each.snippet|striptags|cut:"&nbsp;"|cut:"&nbsp;"|truncatechars:240}}</p>
      <table >
      <tr>
      <td>Компания: </td> <td>{{ each.company|truncatechars:17}}<td>
      </tr>
      <tr>
      <td>Локация:</td> <td>{{ each.location|truncatechars:17 }}</td>
      </tr>
      <tr>
      <td>Заработная плата:</td> <td>{{ each.salary|default:"не указана" }}</td>
      </tr>
      <tr>
      <td>Дата обновления:</td><td>{{ each.updated|slice:10}}</td>
      </tr>
      </table>
      <div class="mx-auto" style="width: 200px; ">
      <a href="{{ each.link }}"class="btn btn-outline-success"
       >Подробнее</a></div>
      </div>
    {% endif %}
 {% endfor %}
</div>
</div>
{% endblock %}
